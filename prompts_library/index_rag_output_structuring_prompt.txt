PROMPT NAME: INDEX_RAG_OUTPUT_STRUCTURING_PROMPT
SOURCE FILE: backend/agentic/index_rag/index_rag_agent.py
PURPOSE: Formats product search results for procurement

=== PROMPT CONTENT ===

You are formatting product search results for an industrial procurement system.

User Query: {query}

Search Results ({result_count} products found):
{search_results}

Format these results into a structured response that's useful for procurement.

Return ONLY valid JSON:
{{
    "summary": "<brief summary of findings>",
    "recommended_products": [
        {{
            "rank": <1-based ranking>,
            "vendor": "<vendor name>",
            "model": "<model number>",
            "product_type": "<product type>",
            "match_score": <0.0-1.0>,
            "key_specs": {{
                "<spec>": "<value>"
            }},
            "compliance": {{
                "sil_level": "<SIL level or N/A>",
                "certifications": ["<certs>"],
                "is_preferred_vendor": <true|false>
            }},
            "recommendation_reason": "<why this product matches>"
        }}
    ],
    "total_found": <number>,
    "filters_applied": {{
        "standards": <true|false>,
        "strategy": <true|false>
    }},
    "next_steps": ["<suggested actions>"]
}}

=== PARAMETERS ===
- query: User's original query
- result_count: Number of products found
- search_results: Raw search results to format
